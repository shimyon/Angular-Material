
@{
    Layout = "_Layout.cshtml";
}


<div class="container">
    <div class="sechead pb5 fs14 mt20 "><b>Company</b></div>

    <div>
        <div class="col-md-4 offset-md-4 mt-5">
            <label for="inputAddress">Company Name</label>
            <input type="text" class="form-control" id="CompanyName">
        </div>
        <div class="col-md-4 offset-md-4 mt-3">
            <label for="inputAddress">Address</label>
            <input type="text" class="form-control" id="Address">
        </div>
        <div class="col-md-4 offset-md-4 mt-3">
            <label for="inputAddress2">Phone1</label>
            <input type="text" class="form-control" id="Phone1">
        </div>
        <div class="col-md-4 offset-md-4 mt-3">
            <label for="inputAddress">Phone2</label>
            <input type="text" class="form-control" id="Phone2">
        </div>
        <div class="col-md-4 offset-md-4 mt-3">
            <label for="inputAddress2">Email</label>
            <input type="text" class="form-control" id="Email">
        </div>
        <div class="col-md-4 offset-md-4 mt-3">
            <label for="inputAddress">GST No.</label>
            <input type="text" class="form-control" id="GSTNo">
        </div>
        <div class="col-md-4 offset-md-4 mt-5">
            <button type="submit" style="width: 100%" class="btn btn-primary" onclick="saveData();">Save</button>
        </div>
    </div>

</div>

@section scripts{
<script  type="text/javascript">
    $(function(){
         GetById();
    })

    function GetById(){
        ajaxcall.post({
            url: AppConfig.ApiPath + "Company/GetById",
            data:{"Id": querySt("id")}
        }).then(function(res){
                     debugger

                   // $("#CompanyName").val(res.CompanyName);
                   // $("#Address").val(res.Address);
                  //  $("#Phone1").val(res.Phone1);
                 //   $("#Phone2").val(res.Phone2);
                  //  $("#Email").val(res.Email);
                 //   $("#GSTNo").val(res.GSTNo);
        })
    }

    function saveData(){

                    if (!$("#CompanyName").val()) {
                        alert('Please enter Company Name');
                        $("#CompanyName").focus()
                        return false;
                    }

                    if (!$("#Address").val()) {
                        alert('Please enter Address');
                        $("#Address").focus()
                        return false;
                    }

                    if (!$("#Phone1").val()) {
                        alert('Please enter Phone1');
                        $("#Phone1").focus()
                        return false;
                    }

                    if (!$("#Phone2").val()) {
                        alert('Please enter Phone2');
                        $("#Phone2").focus()
                        return false;
                    }

                    if (!$("#Email").val()) {
                        alert('Please enter Email');
                        $("#Email").focus()
                        return false;
                    }

                    if (!$("#GSTNo").val()) {
                        alert('Please enter GST No');
                        $("#GSTNo").focus()
                        return false;
                    }

        var obj = {
                CompanyName: $("#CompanyName").val(),
                Address: $("#Address").val(),
                Phone1: $("#Phone1").val(),
                Phone2: $("#Phone2").val(),
                Email: $("#Email").val(),
                GSTNo: $("#GSTNo").val()
        };
        $.ajax({
            type: "POST",
            url: AppConfig.ApiPath + "Company/AddData",
            data: JSON.stringify(obj),
            dataType: "json",
            contentType: "application/json; charset=utf-8",
            success: function (res) {
                if (res.code == 0) {
                alert("Saved successfully");
                RefreshDatatable();
            }
            else {
            alert(res.message);
            }
        },
            error: function () {
            alert("Error while inserting data");
            }
        });
        }

</script>
}